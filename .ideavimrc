" Enable line numbers with relative numbering
set number relativenumber

" Keep the cursor centered vertically (scrolloff=999 ensures at least 999 lines remain above and below)
set scrolloff=999

" Prevent automatic text wrapping
set nowrap 

" Set tab width to 4 spaces
set tabstop=4

" Enable incremental search (search results update as you type)
set incsearch

" Set indentation width to 4 spaces when using `>>` or `<<`
set shiftwidth=4

" Show current mode (INSERT, NORMAL, etc.)
set showmode

" Show command as it is being typed in the status line
set showcmd

" Use visual bell instead of beeping
set visualbell

" Ignore case when searching
set ignorecase

" Override ignorecase when search pattern contains uppercase letters
set smartcase

" Enable incremental search (duplicate setting, can be removed)
set setincsearch

" Highlight search matches
set hlsearch

" Set the leader key to `<Space>`
let mapleader = " "

" Enable clipboard support for system clipboard (allows copying between Vim and system)
set clipboard=unnamedplus
set clipboard+=ideaput

" Key mappings for window management

" Split window vertically
nnoremap <leader>sv :vsplit<CR>

" Stay in indent mode after shifting
vnoremap < <gv
vnoremap > >gv

" Keep cursor centered when searching next (`n`) or previous (`N`)
nnoremap n nzz
nnoremap N Nzz

" Keep cursor centered when searching word under cursor (`*` and `#`)
nnoremap * *zz
nnoremap # #zz

" Preserve yanked text when pasting in visual mode (prevents overwriting clipboard)
xnoremap p "_dP

" Split window horizontally
nnoremap <leader>sh :split<CR>

" Remove trailing whitespace when pressing <F3>
nnoremap <F3> :%s/\s\+$//e<CR>

"" Navigate between splits using leader key
"nnoremap <leader>l <C-w>l 
"nnoremap <leader>h <C-w>h 
"nnoremap <leader>k <C-w>k 
nnoremap <leader>l :action RedesignedRunConfigurationSelector<CR> 

nnoremap <leader>a :action NewClass<CR>

" Clear search highlights when pressing <Esc>
nnoremap <Esc> :nohlsearch<CR>

" Switch to the last buffer
nnoremap <leader>z :b#<CR>

" Delete character without affecting default register
nnoremap x "_x

" Tab navigation
nnoremap <s-TAB> :action PreviousTab<CR>
nnoremap <TAB> :action NextTab<CR>

" Show error description
nnoremap <leader>k :action ShowErrorDescription<CR> 


" Close the active window
nnoremap <leader>q :action HideActiveWindow<CR> 

" Show intention actions (quick fix menu)
nnoremap <leader>ca :action ShowIntentionActions<CR> 

" Run code inspection
"nnoremap <leader>t :action InspectCode<CR>

" Open recent files menu
nnoremap <leader><leader> :action RecentFiles<CR>

" Yank (copy) selected text to system clipboard
vnoremap <leader>y "*y

" Enable highlighted yanking (helps visualize copied text)
set highlightedyank

" Enable NERDTree plugin
set NERDTree

" Enable multiple cursors plugin
set multiple-cursors

" Open NERDTree with `<leader>n`
nnoremap <leader>n :NERDTree<CR>

" Open terminal in the active window
"nnoremap <leader>j :action ActivateTerminalToolWindow<CR>

nnoremap <leader>gp :Compare.SameVersion<CR>

nnoremap <leader>gp :Compare.SameVersion<CR>

nnoremap <leader>db :action ToggleLineBreakpoint<CR>

nnoremap <leader>dc :action Debug<CR>

"" Open the "Search Everywhere" action
"nnoremap <leader> :action SearchEverywhere<CR>

" Move editor focus up/down
nnoremap <C-n> :action EditorDown
nnoremap <C-p> :action EditorUp

" Open the "Run Anything" action
nnoremap <leader>e :action RunAnything<CR>

" Toggle comment for current line or selection
nnoremap gc :action CommentByLineComment<CR>
vnoremap gc :action CommentByLineComment<CR>

" Find usages of symbol under cursor
nnoremap gr :action FindUsages<CR> 

" Go to implementation of the function/method
nnoremap gI :action GotoImplementation<CR>

" Go to file
nnoremap <leader>f :action GotoFile<CR>

" Go to text 
nnoremap <leader>fg :action TextSearchAction<CR>

" Run app
nnoremap <leader>r :action Run<CR>


"Jump to last tool window
nnoremap <leader>j :action JumpToLastWindow<CR>

"Debug test
nnoremap <leader>tc :action DebugClass<CR>

" Go to declaration of the function/method
nnoremap gd :action GotoDeclaration<CR>

" NERDTree key remappings

" Set NERDTree shortcut for menu (`m`) and quit (`n`)
let g:NERDTreeMapMenu='m'
let g:NERDTreeMapQuit='n'

" Automatically map NERDTree commands when inside NERDTree

" Create a new file
autocmd FileType nerdtree nmap <buffer> a :NERDTreeMenuNewFile<CR>

" Rename a file
autocmd FileType nerdtree nmap <buffer> r :NERDTreeMenuRenameNode<CR>

" Delete a file
autocmd FileType nerdtree nmap <buffer> d :NERDTreeMenuDeleteNode<CR>

" Close NERDTree
autocmd FileType nerdtree nmap <buffer> q :NERDTreeClose<CR>

" EasyMotion plugin mappings

" Quick motion to any character using `s`
Plug 'easymotion/vim-easymotion'
map <leader>G <Plug>(easymotion-s)

" Quick motion to any character using `f`
map <leader>g <Plug>(easymotion-f)

